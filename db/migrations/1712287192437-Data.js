module.exports = class Data1712287192437 {
    name = 'Data1712287192437'

    async up(db) {
        await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, "address" text NOT NULL, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_83603c168bc00b20544539fbea" ON "account" ("address") `)
        await db.query(`CREATE TABLE "transfer" ("id" character varying NOT NULL, "action" text, "extrinsic_hash" text, "extrinsic_index" integer, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "signature" text, "block_number" integer NOT NULL, "success" boolean, "params" text, "amount" jsonb, "fee" jsonb, "sender_id" character varying, "from_id" character varying, "to_id" character varying, CONSTRAINT "PK_fd9ddbdd49a17afcbe014401295" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_70ff8b624c3118ac3a4862d22c" ON "transfer" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_d049c3b2e59a29d3dfc95bd739" ON "transfer" ("sender_id") `)
        await db.query(`CREATE INDEX "IDX_d6624eacc30144ea97915fe846" ON "transfer" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_76bdfed1a7eb27c6d8ecbb7349" ON "transfer" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_0751309c66e97eac9ef1149362" ON "transfer" ("to_id") `)
        await db.query(`CREATE TABLE "nomination_pool_join" ("id" character varying NOT NULL, "action" text, "extrinsic_hash" text, "extrinsic_index" integer, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" integer NOT NULL, "signature" text, "success" boolean, "params" text, "fee" jsonb, "amount" jsonb, "pool_id" integer, "sender_id" character varying, CONSTRAINT "PK_1e82b2030ea74f0b4edda4e40da" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_f092ae9ec8d091c0fa3a8ddf57" ON "nomination_pool_join" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_1f258fc58230a53c0c9c2ea19c" ON "nomination_pool_join" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_112cab65b151b9652d4ed881c2" ON "nomination_pool_join" ("sender_id") `)
        await db.query(`CREATE TABLE "nomination_pool_bond_extra" ("id" character varying NOT NULL, "action" text, "extrinsic_hash" text, "extrinsic_index" integer, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" integer NOT NULL, "fee" jsonb, "signature" text, "success" boolean, "params" text, "bond_method" text, "amount" jsonb, "joined" boolean, "pool_id" integer, "sender_id" character varying, "from_id" character varying, CONSTRAINT "PK_ebf8882a82e94b51bb144422e97" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_11a7e1535b01da72d32f3ddc8f" ON "nomination_pool_bond_extra" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_1c3e24899a5ae6f815bf51020c" ON "nomination_pool_bond_extra" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_c4e19397099618d793134f763b" ON "nomination_pool_bond_extra" ("sender_id") `)
        await db.query(`CREATE INDEX "IDX_cdb8bb5e14cbbfc7e4bae81339" ON "nomination_pool_bond_extra" ("from_id") `)
        await db.query(`CREATE TABLE "nomination_pool_unbond" ("id" character varying NOT NULL, "action" text, "extrinsic_hash" text, "extrinsic_index" integer, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" integer NOT NULL, "signature" text, "success" boolean, "fee" jsonb, "params" text, "pool_id" integer, "amount" jsonb, "era" numeric, "unbonding_points" jsonb, "sender_id" character varying, CONSTRAINT "PK_6c49608efdb6c41a8c671d36909" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_5ad3bd4b1a9956881ed245ee6a" ON "nomination_pool_unbond" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_0704bfc7676394a7498e9e25d9" ON "nomination_pool_unbond" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_beef3dced077ce0cebb009f7eb" ON "nomination_pool_unbond" ("sender_id") `)
        await db.query(`CREATE TABLE "nomination_pool_paid_out" ("id" character varying NOT NULL, "action" text, "extrinsic_hash" text, "extrinsic_index" integer, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" integer NOT NULL, "signature" text, "success" boolean, "pool_id" integer, "amount" jsonb, "era" integer, "to_id" character varying, CONSTRAINT "PK_6b1413984ceec31111594edf4ae" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_c4042625d72656a435757ed6fc" ON "nomination_pool_paid_out" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_e38862e51937871b1822c8611d" ON "nomination_pool_paid_out" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_ee70b80dd51c641a15639dc21f" ON "nomination_pool_paid_out" ("to_id") `)
        await db.query(`CREATE TABLE "nomination_pool_withdraw_unbonded" ("id" character varying NOT NULL, "action" text, "extrinsic_hash" text, "extrinsic_index" integer, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" integer NOT NULL, "signature" text, "success" boolean, "fee" jsonb, "params" text, "pool_id" integer, "withdrawn_point" jsonb, "amount" jsonb, "sender_id" character varying, "from_id" character varying, CONSTRAINT "PK_5a6e923cec4623ce9051964e3ad" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_bb8328c6746a4725f3489d50ee" ON "nomination_pool_withdraw_unbonded" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_3a28aefbbc311c50e83d6a7b38" ON "nomination_pool_withdraw_unbonded" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_2c176b67605b392ef419a04f0e" ON "nomination_pool_withdraw_unbonded" ("sender_id") `)
        await db.query(`CREATE INDEX "IDX_925aa03e079a23f7aaab10ca4f" ON "nomination_pool_withdraw_unbonded" ("from_id") `)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_d049c3b2e59a29d3dfc95bd7392" FOREIGN KEY ("sender_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_76bdfed1a7eb27c6d8ecbb73496" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_0751309c66e97eac9ef11493623" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_join" ADD CONSTRAINT "FK_112cab65b151b9652d4ed881c20" FOREIGN KEY ("sender_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_bond_extra" ADD CONSTRAINT "FK_c4e19397099618d793134f763b8" FOREIGN KEY ("sender_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_bond_extra" ADD CONSTRAINT "FK_cdb8bb5e14cbbfc7e4bae81339e" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_unbond" ADD CONSTRAINT "FK_beef3dced077ce0cebb009f7eb0" FOREIGN KEY ("sender_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_paid_out" ADD CONSTRAINT "FK_ee70b80dd51c641a15639dc21fa" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_withdraw_unbonded" ADD CONSTRAINT "FK_2c176b67605b392ef419a04f0e2" FOREIGN KEY ("sender_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_withdraw_unbonded" ADD CONSTRAINT "FK_925aa03e079a23f7aaab10ca4fa" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "account"`)
        await db.query(`DROP INDEX "public"."IDX_83603c168bc00b20544539fbea"`)
        await db.query(`DROP TABLE "transfer"`)
        await db.query(`DROP INDEX "public"."IDX_70ff8b624c3118ac3a4862d22c"`)
        await db.query(`DROP INDEX "public"."IDX_d049c3b2e59a29d3dfc95bd739"`)
        await db.query(`DROP INDEX "public"."IDX_d6624eacc30144ea97915fe846"`)
        await db.query(`DROP INDEX "public"."IDX_76bdfed1a7eb27c6d8ecbb7349"`)
        await db.query(`DROP INDEX "public"."IDX_0751309c66e97eac9ef1149362"`)
        await db.query(`DROP TABLE "nomination_pool_join"`)
        await db.query(`DROP INDEX "public"."IDX_f092ae9ec8d091c0fa3a8ddf57"`)
        await db.query(`DROP INDEX "public"."IDX_1f258fc58230a53c0c9c2ea19c"`)
        await db.query(`DROP INDEX "public"."IDX_112cab65b151b9652d4ed881c2"`)
        await db.query(`DROP TABLE "nomination_pool_bond_extra"`)
        await db.query(`DROP INDEX "public"."IDX_11a7e1535b01da72d32f3ddc8f"`)
        await db.query(`DROP INDEX "public"."IDX_1c3e24899a5ae6f815bf51020c"`)
        await db.query(`DROP INDEX "public"."IDX_c4e19397099618d793134f763b"`)
        await db.query(`DROP INDEX "public"."IDX_cdb8bb5e14cbbfc7e4bae81339"`)
        await db.query(`DROP TABLE "nomination_pool_unbond"`)
        await db.query(`DROP INDEX "public"."IDX_5ad3bd4b1a9956881ed245ee6a"`)
        await db.query(`DROP INDEX "public"."IDX_0704bfc7676394a7498e9e25d9"`)
        await db.query(`DROP INDEX "public"."IDX_beef3dced077ce0cebb009f7eb"`)
        await db.query(`DROP TABLE "nomination_pool_paid_out"`)
        await db.query(`DROP INDEX "public"."IDX_c4042625d72656a435757ed6fc"`)
        await db.query(`DROP INDEX "public"."IDX_e38862e51937871b1822c8611d"`)
        await db.query(`DROP INDEX "public"."IDX_ee70b80dd51c641a15639dc21f"`)
        await db.query(`DROP TABLE "nomination_pool_withdraw_unbonded"`)
        await db.query(`DROP INDEX "public"."IDX_bb8328c6746a4725f3489d50ee"`)
        await db.query(`DROP INDEX "public"."IDX_3a28aefbbc311c50e83d6a7b38"`)
        await db.query(`DROP INDEX "public"."IDX_2c176b67605b392ef419a04f0e"`)
        await db.query(`DROP INDEX "public"."IDX_925aa03e079a23f7aaab10ca4f"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_d049c3b2e59a29d3dfc95bd7392"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_76bdfed1a7eb27c6d8ecbb73496"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_0751309c66e97eac9ef11493623"`)
        await db.query(`ALTER TABLE "nomination_pool_join" DROP CONSTRAINT "FK_112cab65b151b9652d4ed881c20"`)
        await db.query(`ALTER TABLE "nomination_pool_bond_extra" DROP CONSTRAINT "FK_c4e19397099618d793134f763b8"`)
        await db.query(`ALTER TABLE "nomination_pool_bond_extra" DROP CONSTRAINT "FK_cdb8bb5e14cbbfc7e4bae81339e"`)
        await db.query(`ALTER TABLE "nomination_pool_unbond" DROP CONSTRAINT "FK_beef3dced077ce0cebb009f7eb0"`)
        await db.query(`ALTER TABLE "nomination_pool_paid_out" DROP CONSTRAINT "FK_ee70b80dd51c641a15639dc21fa"`)
        await db.query(`ALTER TABLE "nomination_pool_withdraw_unbonded" DROP CONSTRAINT "FK_2c176b67605b392ef419a04f0e2"`)
        await db.query(`ALTER TABLE "nomination_pool_withdraw_unbonded" DROP CONSTRAINT "FK_925aa03e079a23f7aaab10ca4fa"`)
    }
}
